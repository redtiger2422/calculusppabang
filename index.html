<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>íƒ€ìš” & í‹°ë‹ˆí•‘ ìˆ˜í•™ ëª¨í—˜</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: linear-gradient(120deg, #a1e0ff 40%, #f9e0ff 100%);
      box-sizing: border-box;
      font-family: 'Spoqa Han Sans Neo', 'Noto Sans KR', Arial, sans-serif;
    }
    body {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    
    #openingVideo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    #openingVideo video {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    
    #openingVideoPlayer {
      width: 100%;
      height: 100%;
      max-width: 1280px;
      max-height: 720px;
    }
    
    #skipButton {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.8);
      color: #333;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      z-index: 1001;
      transition: background 0.3s;
    }
    
    #skipButton:hover {
      background: rgba(255, 255, 255, 0.95);
    }
    
    #soundButton {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(102, 181, 246, 0.9);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      z-index: 1001;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }
    
    #soundButton:hover {
      background: rgba(61, 151, 224, 0.95);
      transform: translateX(-50%) scale(1.05);
    }
    
    /* ì¶•í•˜ ë©”ì‹œì§€ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
    #congratsModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    
    #congratsBox {
      background: linear-gradient(135deg, #fff 0%, #ffd6f3 100%);
      border-radius: 25px;
      padding: 40px;
      text-align: center;
      box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
      animation: bounceIn 0.6s ease-out;
      max-width: 90%;
      width: 450px;
    }
    
    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    #congratsMessage {
      font-size: 26px;
      font-weight: bold;
      color: #ff1493;
      margin-bottom: 30px;
      line-height: 1.5;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    #giftButton {
      background: linear-gradient(45deg, #ff6b6b, #ff8e53);
      color: white;
      font-size: 20px;
      font-weight: bold;
      padding: 15px 40px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    #giftButton:hover {
      background: linear-gradient(45deg, #ff5252, #ff7043);
      transform: scale(1.1);
      box-shadow: 0 8px 30px rgba(255, 107, 107, 0.6);
    }
    
    .gift-emoji {
      font-size: 50px;
      margin: 20px 0;
      animation: rotate 3s linear infinite;
    }
    
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    /* ì¶•í•˜ ë¹„ë””ì˜¤ ìŠ¤íƒ€ì¼ */
    #celebrationVideo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    #celebrationPlayer {
      width: 100%;
      height: 100%;
      max-width: 1280px;
      max-height: 720px;
    }
    
    .celebration-text {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: #FFD700;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      animation: sparkle 1.5s ease-in-out infinite;
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    #closeVideoBtn {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 100, 100, 0.9);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      z-index: 1001;
      transition: all 0.3s;
    }
    
    #closeVideoBtn:hover {
      background: rgba(255, 50, 50, 0.95);
      transform: translateX(-50%) scale(1.05);
    }
    
    #gameContainer {
      width: 100%;
      height: 100%;
      display: none;
      justify-content: center;
      align-items: center;
    }
    
    #gameBox {
      background: rgba(255,255,255,0.95);
      border-radius: 20px;
      box-shadow: 0 6px 40px rgba(20,60,160,0.17);
      padding: 32px 24px 20px 24px;
      max-width: 420px;
      min-width: 330px;
      width: 90vw;
      margin: 0 auto;
      position: relative;
      text-align: center;
    }
    #logoImages {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      gap: 10px;
      margin-bottom: 12px;
    }
    .logo-char {
      height: 60px;
      border-radius: 10px;
      object-fit: contain;
      box-shadow: 0 3px 15px rgba(30,70,180,0.11);
      background: #eaf6ff;
      padding: 3px;
    }
    #adventureMsg {
      margin-bottom: 12px;
    }
    #adventureMsg div {
      color: #3186eb;
      font-size: 1.32em;
      font-weight: bold;
      letter-spacing: 1px;
      text-shadow: 0 1px 5px #fff6;
      animation: bounce 2.2s infinite;
      margin: 4px 0;
    }
    @keyframes bounce {
      0% { transform: translateY(0); }
      15% { transform: translateY(-6px); }
      30% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
      70% { transform: translateY(0); }
    }
    label, select, button, input {
      font-size: 1.15em;
    }
    select, input {
      padding: 7px 12px;
      border-radius: 6px;
      border: 1.2px solid #aad3fd;
      margin-bottom: 12px;
      width: 70%;
      max-width: 200px;
      background: #f5fbff;
    }
    button {
      margin-top: 5px;
      background: #66b5f6;
      color: white;
      font-weight: bold;
      padding: 8px 24px;
      border: none;
      border-radius: 7px;
      cursor: pointer;
      box-shadow: 0 2px 7px #88c6fc55;
      transition: background 0.2s;
    }
    button:hover { background: #3d97e0; }
    #questionNum {
      font-size: 1.07em;
      color: #9791cf;
      margin-bottom: 5px;
    }
    #questionText {
      font-size: 1.6em;
      font-weight: bold;
      color: #3677b6;
      margin-bottom: 18px;
      margin-top: 0;
    }
    #answerInput {
      text-align: center;
      font-weight: bold;
      letter-spacing: 1px;
    }
    #feedback {
      min-height: 1.1em;
      font-size: 1.13em;
      font-weight: 500;
      margin: 7px 0 0 0;
      color: #fa7e2e;
    }
    #mathTip {
      background: linear-gradient(135deg, #e3f2fd 0%, #f8e8ff 100%);
      border-left: 4px solid #3186eb;
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      text-align: left;
      font-size: 0.95em;
      color: #3677b6;
      display: none;
      line-height: 1.4;
    }
    #resultSection {
      margin: 0 0 10px 0;
    }
    #resultSection h2 {
      color: #3a7fbc;
      margin-bottom: 5px;
    }
    #resultMsg {
      font-size: 1.14em;
      margin: 12px 0 8px 0;
      color: #6864e2;
    }
    #madeBy {
      font-size: 0.99em;
      color: #aaa;
      margin-top: 18px;
      letter-spacing: 1.5px;
      text-align: center;
      width: 100%;
      position: relative;
    }
    #muteBtn {
      position: absolute;
      top: 12px;
      right: 16px;
      background: none;
      border: none;
      font-size: 1.45em;
      cursor: pointer;
      z-index: 99;
      color: #3186eb;
      user-select: none;
      padding: 0;
    }
    @media (max-width: 500px) {
      #gameBox {
        min-width: unset;
        padding: 8vw 2vw 5vw 2vw;
      }
      .logo-char {
        height: 44px;
      }
      #muteBtn {
        right: 10px;
        top: 8px;
      }
      #skipButton {
        top: 10px;
        right: 10px;
        padding: 8px 16px;
        font-size: 12px;
      }
      #soundButton, #closeVideoBtn {
        bottom: 10px;
        padding: 10px 20px;
        font-size: 14px;
      }
      .celebration-text {
        font-size: 20px;
      }
      #congratsBox {
        padding: 30px;
        width: 90%;
      }
      #congratsMessage {
        font-size: 20px;
      }
      #giftButton {
        font-size: 16px;
        padding: 12px 30px;
      }
      .gift-emoji {
        font-size: 40px;
      }
      #mathTip {
        font-size: 0.9em;
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- ì˜¤í”„ë‹ ë¹„ë””ì˜¤ ì„¹ì…˜ -->
  <div id="openingVideo">
    <video id="openingVideoPlayer" autoplay>
      <source src="openvd.mp4" type="video/mp4">
      ë¸Œë¼ìš°ì €ê°€ ë¹„ë””ì˜¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    </video>
    <button id="skipButton">ê±´ë„ˆë›°ê¸°</button>
  </div>

  <!-- ê²Œì„ ì»¨í…Œì´ë„ˆ -->
  <div id="gameContainer" style="display: none;">
    <div id="gameBox">
      <button id="muteBtn" title="ìŒì†Œê±° ì „í™˜">ğŸ”Š</button>
      <div id="logoImages">
        <img src="í‹°ë‹ˆí•‘ê³µì£¼.png" alt="í‹°ë‹ˆí•‘ê³µì£¼" class="logo-char" onerror="this.style.display='none'">
        <img src="íƒ€ìš”ìë™ì°¨.png" alt="íƒ€ìš”ìë™ì°¨" class="logo-char" onerror="this.style.display='none'">
      </div>
      <div id="adventureMsg">
        <div>ğŸ’¡ ì‹ ë‚˜ëŠ” íƒ€ìš”ì™€ í‹°ë‹ˆí•‘ì˜ ìˆ˜í•™ ëª¨í—˜!ğŸ’¡</div>
        <div>ğŸš˜ ì§€ê¸ˆ ë– ë‚˜ìš”! ğŸš˜</div>
      </div>
      <!-- ë‚˜ì´ ì„ íƒ í™”ë©´ -->
      <div id="ageSection">
        <label for="ageSelect">ë‚˜ì´ë¥¼ ì„ íƒí•˜ì„¸ìš” (3ì„¸~13ì„¸):</label><br>
        <select id="ageSelect">
          <option value="">-- ë‚˜ì´ ì„ íƒ --</option>
          <option value="3">3ì„¸</option>
          <option value="4">4ì„¸</option>
          <option value="5">5ì„¸</option><option value="6">6ì„¸</option><option value="7">7ì„¸</option>
          <option value="8">8ì„¸</option><option value="9">9ì„¸</option><option value="10">10ì„¸</option>
          <option value="11">11ì„¸</option><option value="12">12ì„¸</option><option value="13">13ì„¸</option>
        </select>
        <br><button id="startQuizBtn">ëª¨í—˜ ì‹œì‘!</button>
      </div>
      <!-- ë¬¸ì œ í€´ì¦ˆ í™”ë©´ -->
      <div id="quizSection" style="display:none;">
        <div id="questionNum"></div>
        <div id="questionText"></div>
        <input id="answerInput" type="text" autocomplete="off" placeholder="ì •ë‹µì„ ì¨ì£¼ì„¸ìš”!">
        <br><button id="submitAnswerBtn">ì •ë‹µ í™•ì¸</button>
        <div id="feedback"></div>
        <div id="mathTip"></div>
      </div>
      <!-- ê²°ê³¼ í™”ë©´ -->
      <div id="resultSection" style="display:none;">
        <h2>ğŸ‰ ëª¨í—˜ ì™„ë£Œ! ğŸ‰</h2>
        <div>ë§ì¶˜ ê°œìˆ˜: <span id="correctCount"></span> / <span id="totalCount"></span></div>
        <div>ì •ë‹µë¥ : <span id="accuracy"></span>%</div>
        <div id="resultMsg"></div>
        <button id="retryBtn" style="display:none;">ì¬ë„ì „í•˜ê¸°</button>
        <button id="restartBtn">ì²˜ìŒìœ¼ë¡œ</button>
      </div>
      <div id="madeBy">Made by ì í˜¸ì•½ì‚¬</div>
    </div>
  </div>

  <!-- ì¶•í•˜ ë©”ì‹œì§€ ëª¨ë‹¬ -->
  <div id="congratsModal">
    <div id="congratsBox">
      <div class="gift-emoji">ğŸ</div>
      <div id="congratsMessage">
        ì™€ìš°! ìˆ˜í•™ ì²œì¬ì´ì‹ ê°€ìš”!?<br>
        ì¶•í•˜ ì„ ë¬¼ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤~!!
      </div>
      <button id="giftButton">ì„ ë¬¼ë°›ê¸°</button>
    </div>
  </div>

  <!-- ì¶•í•˜ ë¹„ë””ì˜¤ ì„¹ì…˜ -->
  <div id="celebrationVideo">
    <div class="celebration-text">ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! 90ì  ì´ìƒ! ğŸ‰</div>
    <iframe id="celebrationPlayer" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
    </iframe>
    <button id="closeVideoBtn">ê²Œì„ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
  </div>

  <!-- ë°°ê²½ ìŒì•…, íš¨ê³¼ìŒ -->
  <audio id="bgMusic" src="tayo1.mp3" loop></audio>
  <audio id="applauseSound" src="coin.mp3" preload="auto"></audio>
  <audio id="congratsSound" src="ë°•ìˆ˜ì†Œë¦¬1.mp3" preload="auto"></audio>

  <script>
    let quiz = { age: null, questions: [], current: 0, correct: 0, consecutiveCorrect: 0, consecutiveWrong: 0 };
    let applauseCooldown = false;
    let bgMusicStarted = false;
    let isSoundOn = true;

    // ì¶•í•˜ ì˜ìƒ ëª©ë¡
    const celebrationVideos = [
      'yg9vV3_rVI0',
      '5chNiLy9X_A',
      'vE7tGIxzfwo',
      'HbBNNzHVLlA'
    ];

    // ì •ë‹µ ì‹œ ì¶•í•˜ ë©”ì‹œì§€ (ê¸°íšì„œ ë°˜ì˜)
    const correctMessages = [
      "ì •ë‹µ! ì™„ì „ ì²œì¬ ì•„ë‹ˆì•¼? ğŸš",
      "ë§ì•˜ì–´ìš”! í˜¹ì‹œ... í˜¹ì‹œ ë©˜ì‚¬ì‹ ê°€ìš”? ğŸ‘‘", 
      "ëŒ€ë°•! ìˆ˜í•™ ì‹ ë™ ë“±ì¥! ğŸŒŸ",
      "ìš°ì™€! ì§„ì§œ ë˜‘ë˜‘í•˜ë‹¤! ğŸ’",
      "ì™„ë²½í•´! ìˆ˜í•™ ë§ˆë²•ì‚¬ì„¸ìš”? âœ¨",
      "ì©ë‹¤! íƒ€ìš”ë„ ê¹œì§ ë†€ëì–´ìš”! ğŸšŒ",
      "í—~ ì§„ì§œ ëŒ€ë‹¨í•œë°ìš”? ğŸ”¥",
      "ì™€ìš°! ì´ ì •ë„ë©´ ìˆ˜í•™ ì²œì¬! ğŸ§ ",
      "ë©‹ì ¸ìš”! í‹°ë‹ˆí•‘ë„ ë°•ìˆ˜ì³ìš”! ğŸ‘‘",
      "ì •ë‹µ! í˜¹ì‹œ ë¯¸ë˜ì˜ ìˆ˜í•™ì? ğŸ¯",
      "ì§±ì´ì—ìš”! ì™„ì „ ìˆ˜í•™ ê³ ìˆ˜! â­",
      "ì˜¤ë§ˆì´ê°“! ì´ëŸ° ì‹¤ë ¥ì´! ğŸ˜",
      "ëŒ€ë‹¨í•´! ì–´ë¥¸ë„ ëª» í‘¸ëŠ”ë°? ğŸ’ª",
      "ì™€~ ì§„ì§œ ë¨¸ë¦¬ ì¢‹ìœ¼ì‹œë„¤ìš”! ğŸŠ",
      "ì •ë‹µ! ìˆ˜í•™ê³„ì˜ ì‹ ì„±! ğŸŒˆ",
      "í¬ìœ¼~ ì´ ì •ë„ ì‹¤ë ¥ì´ë©´! ğŸˆ",
      "ë†€ë¼ì›Œ! ì§„ì§œ ìˆ˜í•™ ì˜ì¬! ğŸ¨",
      "ë§í˜”ë‹¤! í˜¹ì‹œ ìˆ˜í•™ ì„ ìƒë‹˜? ğŸ“š",
      "ìŒ©í! ì™„ì „ ê¹”ë”í•œ ì •ë‹µ! ğŸª",
      "ì •ë§ êµ¿! ìˆ˜í•™ ë§ˆìŠ¤í„°! ğŸ†"
    ];

    // ì—°ì† ì •ë‹µ ì‹œ íŠ¹ë³„ ë©”ì‹œì§€
    const consecutiveMessages = [
      "ì—°ì† ì •ë‹µ! ì§„ì§œ ë¡¤ëª¨ë¸ì´ì„¸ìš”! ğŸ”¥",
      "ê³„ì† ë§íˆë„¤! ìˆ˜í•™ì˜ ì‹  ê°•ë¦¼! âš¡",
      "ì™€! ì—°íƒ€! ì´ê±´ ì§„ì§œ ì‹¤ë ¥! ğŸ’¥",
      "ìŠ¤íŠ¸ë¼ì´í¬! ë¬´ì‹œë¬´ì‹œí•œ ì‹¤ë ¥! ğŸ¯"
    ];

    // ì–´ë ¤ìš´ ë¬¸ì œ ì •ë‹µ ì‹œ
    const hardCorrectMessages = [
      "ì´ëŸ° ì–´ë ¤ìš´ ê²ƒë„! ì§„ì§œ ëŒ€ë°•! ğŸš€",
      "í—‰! ì´ê±¸ ë§íˆë‹¤ë‹ˆ! ì™„ì „ ì²œì¬! ğŸŒŸ",
      "ì™€ìš°! ì´ ë¬¸ì œëŠ” ì •ë§ ì–´ë ¤ìš´ë°! ğŸ…"
    ];

    // ì˜¤ë‹µ ì‹œ ê²©ë ¤ ë©”ì‹œì§€ (ê¸°íšì„œ ë°˜ì˜)
    const wrongMessages = [
      "ê´œì°®ì•„ìš”! í‹€ë¦¬ëŠ” ê²Œ ë” ë§ì´ ë°°ìš°ëŠ” ê±°ì˜ˆìš”! ğŸ’ª",
      "ì‹¤ìˆ˜ëŠ” ì„±ì¥ì˜ ê³„ë‹¨ì´ì—ìš”! ë‹¤ìŒì—” ë” ì˜í•  ê±°ì˜ˆìš”! ğŸŒ±",
      "ì•„ì‰½! í•˜ì§€ë§Œ í¬ê¸°ëŠ” ê¸ˆë¬¼! í™”ì´íŒ…! ğŸ”¥",
      "ì˜¤ë‹µë„ ì†Œì¤‘í•œ ê²½í—˜! ì¡°ê¸ˆë§Œ ë” ìƒê°í•´ë´ìš”! ğŸ¤”",
      "í‹€ë ¤ë„ ê´œì°®ì•„ìš”! ë°°ìš°ëŠ” ê³¼ì •ì´ë‹ˆê¹Œìš”! ğŸ“š",
      "ì•„ê¹ë‹¤! ì¡°ê¸ˆë§Œ ë” ì§‘ì¤‘í•˜ë©´ ë  ê²ƒ ê°™ì€ë°! ğŸ‘€",
      "ì‹¤ìˆ˜ëŠ” ëˆ„êµ¬ë‚˜ í•´ìš”! ì¤‘ìš”í•œ ê±´ ë‹¤ì‹œ ë„ì „í•˜ëŠ” ê±°! ğŸš€",
      "ê´œì°®ì•„ìš”! ì²œì²œíˆ í•˜ë‚˜ì”© ë°°ì›Œê°€ìš”! ğŸ¢",
      "í‹€ë ¸ì§€ë§Œ ê·¸ë˜ë„ ì—´ì‹¬íˆ í–ˆì–´ìš”! ğŸ‘",
      "ì•„ì‰½ì§€ë§Œ ë‹¤ìŒ ë¬¸ì œì—ì„œ ë§ŒíšŒí•˜ì! ğŸ’«",
      "ì‹¤íŒ¨ëŠ” ì„±ê³µì˜ ì–´ë¨¸ë‹ˆ! ë‹¤ì‹œ í˜ë‚´ìš”! ğŸŒˆ",
      "ê´œì°®ì•„ìš”! ëª¨ë¥´ëŠ” ê±¸ ì•Œê²Œ ëœ ê±°ì–ì•„ìš”! ğŸ’¡",
      "ì˜¤ë‹µ! í•˜ì§€ë§Œ ë°°ì›€ì˜ ê¸°íšŒ! ğŸ¯",
      "í‹€ë ¤ë„ OK! ì¤‘ìš”í•œ ê±´ ëê¹Œì§€ í•˜ëŠ” ê±°! ğŸƒâ€â™‚ï¸",
      "ì•„ì‰½! í•˜ì§€ë§Œ ì ì  ëŠ˜ê³  ìˆì–´ìš”! ğŸ“ˆ"
    ];

    // ì—°ì† ì˜¤ë‹µ ì‹œ íŠ¹ë³„ ê²©ë ¤
    const consecutiveWrongMessages = [
      "ê´œì°®ì•„ìš”! ì–´ë ¤ìš´ ë¬¸ì œê°€ ê³„ì† ë‚˜ì™”ë„¤ìš”! ğŸ˜Š",
      "ì¡°ê¸ˆ ì–´ë µì£ ? ì²œì²œíˆ í•´ë´ìš”! ğŸ•°ï¸",
      "í˜ë“¤ì–´ë„ í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”! ê±°ì˜ ë‹¤ ì™”ì–´ìš”! ğŸˆ"
    ];

    // ìˆ˜í•™ íŒ ì‹œìŠ¤í…œ (ê¸°íšì„œ ë°˜ì˜)
    const mathTips = {
      3: [
        "ğŸ§¸ ì†ê°€ë½ ì„¸ê¸°: ì†ê°€ë½ì„ í•˜ë‚˜ì”© í´ë©´ì„œ ì„¸ì–´ë³´ì„¸ìš”!\n1, 2, 3... ì†ê°€ë½ì´ ë°”ë¡œ ê³„ì‚°ê¸°ì˜ˆìš”!\nğŸ’¡ íƒ€ìš” ë²„ìŠ¤ì—ì„œ ì¹œêµ¬ë“¤ì„ ì„¸ëŠ” ê²ƒì²˜ëŸ¼ í•˜ë‚˜ì”© ì„¸ì–´ë³´ì„¸ìš”!",
        "ğŸˆ ë¬¼ê±´ìœ¼ë¡œ ë”í•˜ê¸°: ë¸”ë¡ì´ë‚˜ ì¥ë‚œê°ìœ¼ë¡œ ì§ì ‘ í•´ë³´ì„¸ìš”!\në¸”ë¡ 2ê°œ + ë¸”ë¡ 1ê°œ = ë¸”ë¡ 3ê°œ!\nğŸ’¡ ëˆˆìœ¼ë¡œ ë³´ê³  ë§Œì ¸ë³´ë©´ì„œ ê³„ì‚°í•˜ë©´ ì‰¬ì›Œìš”!",
        "ğŸ ë¹¼ê¸°ëŠ” ì—†ì• ê¸°: 5ê°œ ì‚¬ê³¼ì—ì„œ 2ê°œë¥¼ ë¨¹ìœ¼ë©´ ëª‡ ê°œê°€ ë‚¨ì„ê¹Œìš”?\ní•˜ë‚˜ì”© ì—†ì• ë©´ì„œ ì„¸ì–´ë³´ì„¸ìš”!\nğŸ’¡ í‹°ë‹ˆí•‘ì²˜ëŸ¼ ë§ˆë²•ìœ¼ë¡œ í•˜ë‚˜ì”© ì‚¬ë¼ì§€ê²Œ í•´ë³´ì„¸ìš”!",
        "ğŸŒŸ ìˆ«ì ì¹œêµ¬ ë§Œë“¤ê¸°: 1ì€ ë§‰ëŒ€ê¸°, 2ëŠ” ë°±ì¡°, 3ì€ ê·€ì²˜ëŸ¼ ìƒê²¼ì–´ìš”!\nìˆ«ì ëª¨ì–‘ì„ ê¸°ì–µí•˜ë©´ ë” ì‰¬ì›Œì ¸ìš”!\nğŸ’¡ ìˆ«ìë“¤ë„ íƒ€ìš”ì™€ í‹°ë‹ˆí•‘ì²˜ëŸ¼ ìš°ë¦¬ ì¹œêµ¬ì˜ˆìš”!"
      ],
      4: [
        "ğŸ§¸ ì†ê°€ë½ ì„¸ê¸°: ì†ê°€ë½ì„ í•˜ë‚˜ì”© í´ë©´ì„œ ì„¸ì–´ë³´ì„¸ìš”!\n1, 2, 3... ì†ê°€ë½ì´ ë°”ë¡œ ê³„ì‚°ê¸°ì˜ˆìš”!\nğŸ’¡ íƒ€ìš” ë²„ìŠ¤ì—ì„œ ì¹œêµ¬ë“¤ì„ ì„¸ëŠ” ê²ƒì²˜ëŸ¼ í•˜ë‚˜ì”© ì„¸ì–´ë³´ì„¸ìš”!",
        "ğŸˆ ë¬¼ê±´ìœ¼ë¡œ ë”í•˜ê¸°: ë¸”ë¡ì´ë‚˜ ì¥ë‚œê°ìœ¼ë¡œ ì§ì ‘ í•´ë³´ì„¸ìš”!\në¸”ë¡ 2ê°œ + ë¸”ë¡ 1ê°œ = ë¸”ë¡ 3ê°œ!\nğŸ’¡ ëˆˆìœ¼ë¡œ ë³´ê³  ë§Œì ¸ë³´ë©´ì„œ ê³„ì‚°í•˜ë©´ ì‰¬ì›Œìš”!",
        "ğŸ ë¹¼ê¸°ëŠ” ì—†ì• ê¸°: 5ê°œ ì‚¬ê³¼ì—ì„œ 2ê°œë¥¼ ë¨¹ìœ¼ë©´ ëª‡ ê°œê°€ ë‚¨ì„ê¹Œìš”?\ní•˜ë‚˜ì”© ì—†ì• ë©´ì„œ ì„¸ì–´ë³´ì„¸ìš”!\nğŸ’¡ í‹°ë‹ˆí•‘ì²˜ëŸ¼ ë§ˆë²•ìœ¼ë¡œ í•˜ë‚˜ì”© ì‚¬ë¼ì§€ê²Œ í•´ë³´ì„¸ìš”!",
        "ğŸŒŸ ìˆ«ì ì¹œêµ¬ ë§Œë“¤ê¸°: 1ì€ ë§‰ëŒ€ê¸°, 2ëŠ” ë°±ì¡°, 3ì€ ê·€ì²˜ëŸ¼ ìƒê²¼ì–´ìš”!\nìˆ«ì ëª¨ì–‘ì„ ê¸°ì–µí•˜ë©´ ë” ì‰¬ì›Œì ¸ìš”!\nğŸ’¡ ìˆ«ìë“¤ë„ íƒ€ìš”ì™€ í‹°ë‹ˆí•‘ì²˜ëŸ¼ ìš°ë¦¬ ì¹œêµ¬ì˜ˆìš”!"
      ],
      5: [
        "ğŸ¯ ë°›ì•„ì˜¬ë¦¼ ë§ˆìŠ¤í„°ë²•: ì¼ì˜ ìë¦¬ë¶€í„° 10ì„ ë§Œë“¤ì–´ìš”!\nì˜ˆ: 9+7 â†’ 9+1+6 â†’ 10+6 = 16\nğŸ’¡ 9ì— 1ì„ ì£¼ê³ , 7ì—ì„œ 1ì„ ë¹¼ë©´ 10+6ì´ ë˜ì–´ìš”!",
        "âš¡ 10ì˜ ë³´ìˆ˜ í™œìš©ë²•: 10ì„ ë§Œë“œëŠ” ì§ì„ ì°¾ì•„ìš”!\nì˜ˆ: 8+5 â†’ 8+2+3 â†’ 10+3 = 13\nğŸ’¡ 8ì˜ ì§ 2ë¥¼ ë¨¼ì € ë”í•˜ê³ , ë‚¨ì€ 3ì„ ë”í•´ìš”!",
        "ğŸ§  ì•”ì‚° ê³ ìˆ˜ë²•: í° ìˆ˜ì— ì‘ì€ ìˆ˜ë¥¼ í•˜ë‚˜ì”© ë”í•´ìš”!\nì˜ˆ: 46+8 â†’ 46+4+4 â†’ 50+4 = 54\nğŸ’¡ ë¨¼ì € 50ì„ ë§Œë“¤ê³  ë‚˜ë¨¸ì§€ë¥¼ ë”í•˜ë©´ ì‰¬ì›Œìš”!"
      ],
      6: [
        "ğŸ¯ ë°›ì•„ì˜¬ë¦¼ ë§ˆìŠ¤í„°ë²•: ì¼ì˜ ìë¦¬ë¶€í„° 10ì„ ë§Œë“¤ì–´ìš”!\nì˜ˆ: 9+7 â†’ 9+1+6 â†’ 10+6 = 16\nğŸ’¡ 9ì— 1ì„ ì£¼ê³ , 7ì—ì„œ 1ì„ ë¹¼ë©´ 10+6ì´ ë˜ì–´ìš”!",
        "âš¡ 10ì˜ ë³´ìˆ˜ í™œìš©ë²•: 10ì„ ë§Œë“œëŠ” ì§ì„ ì°¾ì•„ìš”!\nì˜ˆ: 8+5 â†’ 8+2+3 â†’ 10+3 = 13\nğŸ’¡ 8ì˜ ì§ 2ë¥¼ ë¨¼ì € ë”í•˜ê³ , ë‚¨ì€ 3ì„ ë”í•´ìš”!",
        "ğŸ§  ì•”ì‚° ê³ ìˆ˜ë²•: í° ìˆ˜ì— ì‘ì€ ìˆ˜ë¥¼ í•˜ë‚˜ì”© ë”í•´ìš”!\nì˜ˆ: 46+8 â†’ 46+4+4 â†’ 50+4 = 54\nğŸ’¡ ë¨¼ì € 50ì„ ë§Œë“¤ê³  ë‚˜ë¨¸ì§€ë¥¼ ë”í•˜ë©´ ì‰¬ì›Œìš”!"
      ],
      7: [
        "ğŸ¯ ë°›ì•„ì˜¬ë¦¼ ë§ˆìŠ¤í„°ë²•: ì¼ì˜ ìë¦¬ë¶€í„° 10ì„ ë§Œë“¤ì–´ìš”!\nì˜ˆ: 9+7 â†’ 9+1+6 â†’ 10+6 = 16\nğŸ’¡ 9ì— 1ì„ ì£¼ê³ , 7ì—ì„œ 1ì„ ë¹¼ë©´ 10+6ì´ ë˜ì–´ìš”!",
        "ğŸ­ ë°›ì•„ë‚´ë¦¼ ì—†ì• ê¸°: ì–‘ìª½ì—ì„œ ê°™ì€ ìˆ˜ë¥¼ ë”í•˜ê±°ë‚˜ ë¹¼ìš”!\nì˜ˆ: 52-35 â†’ (52-2)-(35-2) â†’ 50-33 = 17\nğŸ’¡ ê³„ì‚°í•˜ê¸° ì‰¬ìš´ ìˆ˜ë¡œ ë°”ê¾¸ëŠ” ë§ˆë²•ì´ì—ìš”!",
        "ğŸš€ ë¶„í•´ê³±ì…ˆ ë§ˆìŠ¤í„°: í° ìˆ˜ë¥¼ 10+Î±ë¡œ ë‚˜ëˆ„ì–´ ê³„ì‚°í•´ìš”!\nì˜ˆ: 7Ã—13 â†’ 7Ã—(10+3) â†’ 7Ã—10+7Ã—3 â†’ 70+21 = 91\nğŸ’¡ í° ê³±ì…ˆë„ ì‘ì€ ê³±ì…ˆ ì—¬ëŸ¬ ê°œë¡œ ë°”ë€Œì–´ìš”!"
      ],
      8: [
        "ğŸ¯ ë°›ì•„ì˜¬ë¦¼ ë§ˆìŠ¤í„°ë²•: ì¼ì˜ ìë¦¬ë¶€í„° 10ì„ ë§Œë“¤ì–´ìš”!\nì˜ˆ: 9+7 â†’ 9+1+6 â†’ 10+6 = 16\nğŸ’¡ 9ì— 1ì„ ì£¼ê³ , 7ì—ì„œ 1ì„ ë¹¼ë©´ 10+6ì´ ë˜ì–´ìš”!",
        "ğŸ­ ë°›ì•„ë‚´ë¦¼ ì—†ì• ê¸°: ì–‘ìª½ì—ì„œ ê°™ì€ ìˆ˜ë¥¼ ë”í•˜ê±°ë‚˜ ë¹¼ìš”!\nì˜ˆ: 52-35 â†’ (52-2)-(35-2) â†’ 50-33 = 17\nğŸ’¡ ê³„ì‚°í•˜ê¸° ì‰¬ìš´ ìˆ˜ë¡œ ë°”ê¾¸ëŠ” ë§ˆë²•ì´ì—ìš”!",
        "ğŸš€ ë¶„í•´ê³±ì…ˆ ë§ˆìŠ¤í„°: í° ìˆ˜ë¥¼ 10+Î±ë¡œ ë‚˜ëˆ„ì–´ ê³„ì‚°í•´ìš”!\nì˜ˆ: 7Ã—13 â†’ 7Ã—(10+3) â†’ 7Ã—10+7Ã—3 â†’ 70+21 = 91\nğŸ’¡ í° ê³±ì…ˆë„ ì‘ì€ ê³±ì…ˆ ì—¬ëŸ¬ ê°œë¡œ ë°”ë€Œì–´ìš”!",
        "â­ 9ì˜ ë¹„ë°€: 9ë¥¼ ê³±í•  ë•ŒëŠ” 10ì„ ê³±í•˜ê³  ìê¸° ìì‹ ì„ ë¹¼ìš”!\nì˜ˆ: 8Ã—9 â†’ 8Ã—10-8Ã—1 â†’ 80-8 = 72\nğŸ’¡ 9Ã—í‘œëŠ” ì´ë ‡ê²Œ í•˜ë©´ êµ¬êµ¬ë‹¨ì„ ëª°ë¼ë„ ê³„ì‚°ë¼ìš”!"
      ],
      9: [
        "ğŸ”„ ë¶„í•´ë§ì…ˆ ë¹„ë²•: í° ìˆ˜ë¥¼ ì‹­ì˜ ìë¦¬ì™€ ì¼ì˜ ìë¦¬ë¡œ ë‚˜ëˆ„ì–´ìš”!\nì˜ˆ: 27+35 â†’ (20+30)+(7+5) â†’ 50+12 = 62\nğŸ’¡ ê°™ì€ ìë¦¬ë¼ë¦¬ ë”°ë¡œ ê³„ì‚°í•˜ë©´ ì‹¤ìˆ˜ê°€ ì¤„ì–´ìš”!",
        "ğŸ”¢ 2ë°° í™œìš©ë²•: 2ë°°ì”© ê³„ì† ë§Œë“¤ì–´ í° ê³±ì…ˆì„ í•´ê²°í•´ìš”!\nì˜ˆ: 6Ã—8 â†’ 6Ã—2=12, 12Ã—2=24, 24Ã—2=48\nğŸ’¡ 2ë°°â†’4ë°°â†’8ë°° ìˆœì„œë¡œ ê°€ë©´ ì–´ë ¤ìš´ ê³±ì…ˆë„ ì‰¬ì›Œìš”!",
        "ğŸ”„ ê³±ì…ˆí‘œ ì—­ì‚°ë²•: ë‚˜ëˆ—ì…ˆì€ ê³±ì…ˆì˜ ë°˜ëŒ€! 'ëª‡ ê³±í•˜ê¸° ëª‡ì´ ì´ ìˆ˜?'\nì˜ˆ: 56Ã·7 â†’ 7Ã—?=56 â†’ 7Ã—8=56 â†’ ë‹µ: 8\nğŸ’¡ êµ¬êµ¬ë‹¨ì„ ê±°ê¾¸ë¡œ í™œìš©í•˜ëŠ” ê°€ì¥ í™•ì‹¤í•œ ë°©ë²•!"
      ],
      10: [
        "ğŸ”„ ë¶„í•´ë§ì…ˆ ë¹„ë²•: í° ìˆ˜ë¥¼ ì‹­ì˜ ìë¦¬ì™€ ì¼ì˜ ìë¦¬ë¡œ ë‚˜ëˆ„ì–´ìš”!\nì˜ˆ: 27+35 â†’ (20+30)+(7+5) â†’ 50+12 = 62\nğŸ’¡ ê°™ì€ ìë¦¬ë¼ë¦¬ ë”°ë¡œ ê³„ì‚°í•˜ë©´ ì‹¤ìˆ˜ê°€ ì¤„ì–´ìš”!",
        "ğŸ”¢ 2ë°° í™œìš©ë²•: 2ë°°ì”© ê³„ì† ë§Œë“¤ì–´ í° ê³±ì…ˆì„ í•´ê²°í•´ìš”!\nì˜ˆ: 6Ã—8 â†’ 6Ã—2=12, 12Ã—2=24, 24Ã—2=48\nğŸ’¡ 2ë°°â†’4ë°°â†’8ë°° ìˆœì„œë¡œ ê°€ë©´ ì–´ë ¤ìš´ ê³±ì…ˆë„ ì‰¬ì›Œìš”!",
        "ğŸ”„ ê³±ì…ˆí‘œ ì—­ì‚°ë²•: ë‚˜ëˆ—ì…ˆì€ ê³±ì…ˆì˜ ë°˜ëŒ€! 'ëª‡ ê³±í•˜ê¸° ëª‡ì´ ì´ ìˆ˜?'\nì˜ˆ: 56Ã·7 â†’ 7Ã—?=56 â†’ 7Ã—8=56 â†’ ë‹µ: 8\nğŸ’¡ êµ¬êµ¬ë‹¨ì„ ê±°ê¾¸ë¡œ í™œìš©í•˜ëŠ” ê°€ì¥ í™•ì‹¤í•œ ë°©ë²•!",
        "ğŸ“¦ ë¶„í•´ë‚˜ëˆ—ì…ˆ ë¹„ë²•: ë‚˜ëˆ„ì–´ì§€ëŠ” ìˆ˜ë¥¼ ìª¼ê°œì„œ ê°ê° ë‚˜ëˆ„ì–´ìš”!\nì˜ˆ: 84Ã·6 â†’ (60+24)Ã·6 â†’ 60Ã·6+24Ã·6 â†’ 10+4 = 14\nğŸ’¡ í° ìˆ˜ë„ ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ë©´ ì‰¬ì›Œì ¸ìš”!"
      ],
      11: [
        "ğŸ¯ ì–‘ìˆ˜ê³±ì…ˆ ë¹„ë²•: í•œìª½ì„ ë°˜ìœ¼ë¡œ, ë‹¤ë¥¸ ìª½ì„ 2ë°°ë¡œ ë§Œë“¤ì–´ìš”!\nì˜ˆ: 8Ã—15 â†’ 4Ã—30 â†’ 2Ã—60 â†’ 1Ã—120 = 120\nğŸ’¡ ê³„ì‚°í•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë°”ê¾¸ëŠ” ê³ ê¸‰ ê¸°ë²•ì´ì—ìš”!",
        "âš¡ ì¶”ì •ë‚˜ëˆ—ì…ˆë²•: ëŒ€ëµì ì¸ ë‹µì„ ë¨¼ì € ì¶”ì •í•˜ê³  ì¡°ì •í•´ìš”!\nì˜ˆ: 87Ã·3 â†’ 90Ã·3=30ì´ë‹ˆê¹Œ ì¡°ê¸ˆ ì‘ê² ë‹¤ â†’ 29Ã—3=87 â†’ ë‹µ: 29\nğŸ’¡ ì–´ë¦¼ì…ˆìœ¼ë¡œ ë‹µì˜ ë²”ìœ„ë¥¼ ì¢í˜€ê°€ëŠ” í”„ë¡œ ê¸°ë²•!",
        "ğŸ­ ê´„í˜¸ ìš°ì„  ì² ì¹™: ê³„ì‚° ìˆœì„œëŠ” ê´„í˜¸â†’ê³±ì…ˆ/ë‚˜ëˆ—ì…ˆâ†’ë§ì…ˆ/ëº„ì…ˆ!\nì˜ˆ: 3+4Ã—5 â†’ 3+20 = 23 (4Ã—5ë¥¼ ë¨¼ì €!)\nğŸ’¡ ìˆœì„œë¥¼ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ ì™„ì „íˆ ë‹¤ë¥¸ ë‹µì´ ë‚˜ì™€ìš”!"
      ],
      12: [
        "ğŸ¯ ì–‘ìˆ˜ê³±ì…ˆ ë¹„ë²•: í•œìª½ì„ ë°˜ìœ¼ë¡œ, ë‹¤ë¥¸ ìª½ì„ 2ë°°ë¡œ ë§Œë“¤ì–´ìš”!\nì˜ˆ: 8Ã—15 â†’ 4Ã—30 â†’ 2Ã—60 â†’ 1Ã—120 = 120\nğŸ’¡ ê³„ì‚°í•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë°”ê¾¸ëŠ” ê³ ê¸‰ ê¸°ë²•ì´ì—ìš”!",
        "âš¡ ì¶”ì •ë‚˜ëˆ—ì…ˆë²•: ëŒ€ëµì ì¸ ë‹µì„ ë¨¼ì € ì¶”ì •í•˜ê³  ì¡°ì •í•´ìš”!\nì˜ˆ: 87Ã·3 â†’ 90Ã·3=30ì´ë‹ˆê¹Œ ì¡°ê¸ˆ ì‘ê² ë‹¤ â†’ 29Ã—3=87 â†’ ë‹µ: 29\nğŸ’¡ ì–´ë¦¼ì…ˆìœ¼ë¡œ ë‹µì˜ ë²”ìœ„ë¥¼ ì¢í˜€ê°€ëŠ” í”„ë¡œ ê¸°ë²•!",
        "ğŸ­ ê´„í˜¸ ìš°ì„  ì² ì¹™: ê³„ì‚° ìˆœì„œëŠ” ê´„í˜¸â†’ê³±ì…ˆ/ë‚˜ëˆ—ì…ˆâ†’ë§ì…ˆ/ëº„ì…ˆ!\nì˜ˆ: 3+4Ã—5 â†’ 3+20 = 23 (4Ã—5ë¥¼ ë¨¼ì €!)\nğŸ’¡ ìˆœì„œë¥¼ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ ì™„ì „íˆ ë‹¤ë¥¸ ë‹µì´ ë‚˜ì™€ìš”!",
        "ğŸ“ ë‹¨ê³„ë³„ ì •ë¦¬ë²•: ë³µì¡í•œ ì‹ì€ í•œ ë²ˆì— í•˜ë‚˜ì”©ë§Œ!\nì˜ˆ: (12+8)Ã—(15-7) â†’ 20Ã—8 = 160\nğŸ’¡ ì¤‘ê°„ ê³¼ì •ì„ ì˜†ì— ì ì–´ê°€ë©° ì²œì²œíˆ ê³„ì‚°í•˜ì„¸ìš”!"
      ],
      13: [
        "ğŸ¯ ì–‘ìˆ˜ê³±ì…ˆ ë¹„ë²•: í•œìª½ì„ ë°˜ìœ¼ë¡œ, ë‹¤ë¥¸ ìª½ì„ 2ë°°ë¡œ ë§Œë“¤ì–´ìš”!\nì˜ˆ: 8Ã—15 â†’ 4Ã—30 â†’ 2Ã—60 â†’ 1Ã—120 = 120\nğŸ’¡ ê³„ì‚°í•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë°”ê¾¸ëŠ” ê³ ê¸‰ ê¸°ë²•ì´ì—ìš”!",
        "âš¡ ì¶”ì •ë‚˜ëˆ—ì…ˆë²•: ëŒ€ëµì ì¸ ë‹µì„ ë¨¼ì € ì¶”ì •í•˜ê³  ì¡°ì •í•´ìš”!\nì˜ˆ: 87Ã·3 â†’ 90Ã·3=30ì´ë‹ˆê¹Œ ì¡°ê¸ˆ ì‘ê² ë‹¤ â†’ 29Ã—3=87 â†’ ë‹µ: 29\nğŸ’¡ ì–´ë¦¼ì…ˆìœ¼ë¡œ ë‹µì˜ ë²”ìœ„ë¥¼ ì¢í˜€ê°€ëŠ” í”„ë¡œ ê¸°ë²•!",
        "ğŸ­ ê´„í˜¸ ìš°ì„  ì² ì¹™: ê³„ì‚° ìˆœì„œëŠ” ê´„í˜¸â†’ê³±ì…ˆ/ë‚˜ëˆ—ì…ˆâ†’ë§ì…ˆ/ëº„ì…ˆ!\nì˜ˆ: 3+4Ã—5 â†’ 3+20 = 23 (4Ã—5ë¥¼ ë¨¼ì €!)\nğŸ’¡ ìˆœì„œë¥¼ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ ì™„ì „íˆ ë‹¤ë¥¸ ë‹µì´ ë‚˜ì™€ìš”!",
        "ğŸ” ì–´ë¦¼ì…ˆ ê²€ì¦ë²•: ê³„ì‚° ì „ì— ëŒ€ëµì ì¸ ë‹µì„ ì˜ˆìƒí•´ë³´ì„¸ìš”!\nì˜ˆ: 23Ã—19 â†’ ëŒ€ëµ 20Ã—20=400 â†’ ì‹¤ì œ ë‹µì´ 437ì´ë©´ ë§ì„ í™•ë¥  ë†’ìŒ\nğŸ’¡ ë§ë„ ì•ˆ ë˜ëŠ” ë‹µì´ ë‚˜ì˜¤ë©´ ê³„ì‚° ì‹¤ìˆ˜ë¥¼ ì˜ì‹¬í•´ë³´ì„¸ìš”!",
        "ğŸ§© ë¶„ë°°ë²•ì¹™ í™œìš©: ê´„í˜¸ ë°–ì˜ ìˆ˜ë¥¼ ê´„í˜¸ ì•ˆ ê°ê°ì— ê³±í•˜ê±°ë‚˜ ë‚˜ëˆ„ì–´ìš”!\nì˜ˆ: 4Ã—(15+8) â†’ 4Ã—15+4Ã—8 â†’ 60+32 = 92\nğŸ’¡ ë³µì¡í•´ ë³´ì´ëŠ” ì‹ë„ ê°„ë‹¨í•œ ê³„ì‚° ì—¬ëŸ¬ ê°œë¡œ ë°”ë€Œì–´ìš”!"
      ]
    };

    // ì˜¤í”„ë‹ ë¹„ë””ì˜¤ ê´€ë ¨ ìš”ì†Œë“¤
    const openingContainer = document.getElementById('openingVideo');
    const gameContainer = document.getElementById('gameContainer');
    const skipButton = document.getElementById('skipButton');
    const openingVideoPlayer = document.getElementById('openingVideoPlayer');

    // ê²Œì„ í™”ë©´ í‘œì‹œ í•¨ìˆ˜
    function showGame() {
      openingContainer.style.display = 'none';
      gameContainer.style.display = 'flex';
      startBackgroundMusic();
    }

    // ì˜¤í”„ë‹ ë¹„ë””ì˜¤ ì¢…ë£Œ ì‹œ ìë™ìœ¼ë¡œ ê²Œì„ ì‹œì‘
    openingVideoPlayer.addEventListener('ended', function() {
      console.log('ë¹„ë””ì˜¤ ì¬ìƒ ì™„ë£Œ - ê²Œì„ ì‹œì‘');
      showGame();
    });

    // ì˜¤í”„ë‹ ë¹„ë””ì˜¤ ë¡œë“œ ì‹œ ë³¼ë¥¨ ì„¤ì •
    openingVideoPlayer.addEventListener('loadedmetadata', function() {
      console.log('ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„° ë¡œë“œë¨');
      openingVideoPlayer.volume = 1.0;
      openingVideoPlayer.muted = false;
    });

    // ì˜¤í”„ë‹ ë¹„ë””ì˜¤ ì¬ìƒ ì‹œë„
    openingVideoPlayer.addEventListener('loadstart', function() {
      console.log('ë¹„ë””ì˜¤ ë¡œë“œ ì‹œì‘');
    });

    openingVideoPlayer.addEventListener('canplay', function() {
      console.log('ë¹„ë””ì˜¤ ì¬ìƒ ê°€ëŠ¥');
    });

    // ìë™ì¬ìƒ ì‹œë„
    function tryAutoplay() {
      openingVideoPlayer.play().then(() => {
        console.log('ë¹„ë””ì˜¤ ìë™ì¬ìƒ ì„±ê³µ');
      }).catch(e => {
        console.log('ìë™ì¬ìƒì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤:', e);
        // ìë™ì¬ìƒì´ ì°¨ë‹¨ëœ ê²½ìš° í´ë¦­í•˜ì—¬ ì¬ìƒí•˜ë„ë¡ ì•ˆë‚´
        const playButton = document.createElement('button');
        playButton.textContent = 'â–¶ ì˜ìƒ ì¬ìƒí•˜ê¸°';
        playButton.style.cssText = `
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          padding: 20px 40px;
          font-size: 20px;
          background: #66b5f6;
          color: white;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          z-index: 1002;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        `;
        playButton.onclick = function() {
          openingVideoPlayer.play().then(() => {
            playButton.remove();
          }).catch(err => {
            console.log('ìˆ˜ë™ ì¬ìƒë„ ì‹¤íŒ¨:', err);
            playButton.remove();
            showGame(); // ì¬ìƒ ì‹¤íŒ¨ ì‹œ ê²Œì„ìœ¼ë¡œ ë„˜ì–´ê°€ê¸°
          });
        };
        openingContainer.appendChild(playButton);
      });
    }

    // ì˜¤í”„ë‹ ë¹„ë””ì˜¤ ì˜¤ë¥˜ ì‹œ ê²Œì„ ì‹œì‘
    openingVideoPlayer.addEventListener('error', function(e) {
      console.log('ë¹„ë””ì˜¤ ì¬ìƒ ì˜¤ë¥˜:', e);
      setTimeout(() => {
        showGame();
      }, 1000);
    });

    // ê±´ë„ˆë›°ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ
    skipButton.addEventListener('click', function() {
      console.log('ê±´ë„ˆë›°ê¸° ë²„íŠ¼ í´ë¦­ë¨');
      openingVideoPlayer.pause();
      openingVideoPlayer.currentTime = 0;
      showGame();
    });

    // ë¹„ë””ì˜¤ íŒŒì¼ì´ ì—†ê±°ë‚˜ ë¡œë“œë˜ì§€ ì•Šì„ ê²½ìš° 5ì´ˆ í›„ ê²Œì„ ì‹œì‘
    const videoTimeout = setTimeout(() => {
      if (openingContainer.style.display !== 'none') {
        console.log('ë¹„ë””ì˜¤ ë¡œë“œ ì‹œê°„ ì´ˆê³¼ - ê²Œì„ ì‹œì‘');
        showGame();
      }
    }, 5000);

    // ë¹„ë””ì˜¤ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ë©´ íƒ€ì„ì•„ì›ƒ ì·¨ì†Œ
    openingVideoPlayer.addEventListener('loadeddata', function() {
      console.log('ë¹„ë””ì˜¤ ë°ì´í„° ë¡œë“œ ì™„ë£Œ');
      clearTimeout(videoTimeout);
    });

    // ì¶•í•˜ ë©”ì‹œì§€ ëª¨ë‹¬ ê´€ë ¨
    const congratsModal = document.getElementById('congratsModal');
    const giftButton = document.getElementById('giftButton');
    const congratsSound = document.getElementById('congratsSound');
    const celebrationContainer = document.getElementById('celebrationVideo');
    const closeVideoBtn = document.getElementById('closeVideoBtn');
    const bgMusic = document.getElementById('bgMusic');

    // ê²Œì„ ì‹œì‘ ì‹œ ë°°ê²½ìŒì•… ì¬ìƒ
    function startBackgroundMusic() {
      if (!bgMusicStarted) {
        bgMusic.volume = 0.4;
        bgMusic.play().catch(e => {
          console.log('ë°°ê²½ìŒì•… ìë™ì¬ìƒì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ìƒí˜¸ì‘ìš© í›„ ì¬ìƒë©ë‹ˆë‹¤.');
        });
        bgMusicStarted = true;
      }
    }

    // ì¶•í•˜ ë©”ì‹œì§€ í‘œì‹œ í•¨ìˆ˜
    function showCongratsModal() {
      bgMusic.pause();
      congratsModal.style.display = 'flex';
      
      congratsSound.play().catch(e => {
        console.log('ë°•ìˆ˜ì†Œë¦¬ ì¬ìƒ ì‹¤íŒ¨:', e);
      });
    }

    // ì„ ë¬¼ë°›ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    giftButton.addEventListener('click', function() {
      congratsModal.style.display = 'none';
      playCelebrationVideo();
    });

    // ì¶•í•˜ ì˜ìƒ ì¬ìƒ í•¨ìˆ˜
    function playCelebrationVideo() {
      const randomIndex = Math.floor(Math.random() * celebrationVideos.length);
      const videoId = celebrationVideos[randomIndex];
      
      const celebrationIframe = document.getElementById('celebrationPlayer');
      celebrationIframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=0&controls=1&modestbranding=1&rel=0&enablejsapi=1`;
      
      celebrationContainer.style.display = 'flex';
    }

    // ì¶•í•˜ ì˜ìƒ ë‹«ê¸°
    closeVideoBtn.addEventListener('click', function() {
      const celebrationIframe = document.getElementById('celebrationPlayer');
      celebrationIframe.src = '';
      celebrationContainer.style.display = 'none';
      bgMusic.play();
    });

    // ëœë¤ í•¨ìˆ˜
    function randInt(min, max) { 
      return Math.floor(Math.random() * (max - min + 1)) + min; 
    }

    // ë‚˜ì´ë³„ ë¬¸ì œ ìƒì„± í•¨ìˆ˜ (ê¸°íšì„œì˜ ìƒì„¸ ì»¤ë¦¬í˜ëŸ¼ ë°˜ì˜)
    function makeQuestions(age) {
      const arr = [];
      
      for (let i = 0; i < 20; i++) {
        let q = '', a = 0;
        
        if (age === 3) {
          // 3ì„¸: 1~5 ì´í•˜ ìˆ«ìë§Œ (ê¸°íšì„œ ì •í™•í•œ ë¬¸ì œë“¤)
          if (Math.random() < 0.5) {
            const problems = [
              [1,1,2], [1,2,3], [2,1,3], [2,2,4], [1,3,4], [3,1,4], [2,3,5], [3,2,5]
            ];
            const prob = problems[randInt(0, problems.length-1)];
            q = `${prob[0]} + ${prob[1]}`;
            a = prob[2];
          } else {
            const problems = [
              [2,1,1], [3,1,2], [3,2,1], [4,1,3], [4,2,2], [4,3,1], [5,1,4], [5,2,3], [5,3,2]
            ];
            const prob = problems[randInt(0, problems.length-1)];
            q = `${prob[0]} - ${prob[1]}`;
            a = prob[2];
          }
        } else if (age === 4) {
          // 4ì„¸: 1~5, ë‹µì´ 5 ì´í•˜ ì–‘ìˆ˜ (ê¸°íšì„œ ì •í™•í•œ ë¬¸ì œë“¤)
          if (Math.random() < 0.5) {
            const problems = [
              [1,1], [1,2], [1,3], [1,4], [2,1], [2,2], [2,3], [3,1], [3,2], [4,1]
            ];
            const prob = problems[randInt(0, problems.length-1)];
            q = `${prob[0]} + ${prob[1]}`;
            a = prob[0] + prob[1];
          } else {
            const problems = [
              [2,1], [3,1], [3,2], [4,1], [4,2], [4,3], [5,1], [5,2], [5,3], [5,4]
            ];
            const prob = problems[randInt(0, problems.length-1)];
            q = `${prob[0]} - ${prob[1]}`;
            a = prob[0] - prob[1];
          }
        } else if (age >= 5 && age <= 6) {
          // 5-6ì„¸: 10 ì´í•˜ í•œ ìë¦¬ ìˆ˜
          if (Math.random() < 0.5) {
            const x = randInt(1, 9);
            const y = randInt(1, 10 - x);
            q = `${x} + ${y}`;
            a = x + y;
          } else {
            const x = randInt(1, 10);
            const y = randInt(1, x);
            q = `${x} - ${y}`;
            a = x - y;
          }
        } else if (age >= 7 && age <= 8) {
          // 7-8ì„¸: ë°›ì•„ì˜¬ë¦¼/ë°›ì•„ë‚´ë¦¼, í•œ ìë¦¬ ê³±ì…ˆ
          const t = Math.random();
          if (t < 0.4) {
            // ë°›ì•„ì˜¬ë¦¼ ë§ì…ˆ
            const pairs = [[9,2],[9,3],[9,4],[9,5],[9,6],[9,7],[9,8],[9,9],[8,3],[8,4],[8,5],[8,6],[8,7],[8,8],[8,9],[7,4],[7,5],[7,6],[7,7],[7,8],[7,9],[6,5],[6,6],[6,7],[6,8],[6,9]];
            const pair = pairs[randInt(0, pairs.length-1)];
            q = `${pair[0]} + ${pair[1]}`;
            a = pair[0] + pair[1];
          } else if (t < 0.7) {
            // ë°›ì•„ë‚´ë¦¼ ëº„ì…ˆ
            const pairs = [[12,3],[12,4],[12,5],[12,6],[12,7],[12,8],[12,9],[13,4],[13,5],[13,6],[13,7],[13,8],[13,9],[14,5],[14,6],[14,7],[14,8],[14,9],[15,6],[15,7],[15,8],[15,9],[16,7],[16,8],[16,9],[17,8],[17,9],[18,9]];
            const pair = pairs[randInt(0, pairs.length-1)];
            q = `${pair[0]} - ${pair[1]}`;
            a = pair[0] - pair[1];
          } else {
            // í•œ ìë¦¬ ê³±ì…ˆ
            const pairs = [[2,2],[2,3],[2,4],[2,5],[3,3],[3,4],[3,5],[4,4],[4,5],[5,5],[2,6],[2,7],[2,8],[2,9],[3,6],[3,7],[3,8],[3,9],[4,6],[4,7]];
            const pair = pairs[randInt(0, pairs.length-1)];
            q = `${pair[0]} Ã— ${pair[1]}`;
            a = pair[0] * pair[1];
          }
        } else if (age >= 9 && age <= 10) {
          // 9-10ì„¸: ë‘ ìë¦¬ ì‚¬ì¹™ì—°ì‚°, êµ¬êµ¬ë‹¨
          const t = Math.random();
          if (t < 0.25) {
            // ë‘ ìë¦¬ ë§ì…ˆ
            const pairs = [[25,17],[34,28],[46,35],[57,24],[38,46],[29,33],[47,25],[56,38]];
            const pair = pairs[randInt(0, pairs.length-1)];
            q = `${pair[0]} + ${pair[1]}`;
            a = pair[0] + pair[1];
          } else if (t < 0.5) {
            // ë‘ ìë¦¬ ëº„ì…ˆ
            const pairs = [[52,25],[63,37],[74,48],[85,59],[61,34],[72,45],[83,56],[94,67]];
            const pair = pairs[randInt(0, pairs.length-1)];
            q = `${pair[0]} - ${pair[1]}`;
            a = pair[0] - pair[1];
          } else if (t < 0.75) {
            // êµ¬êµ¬ë‹¨
            const pairs = [[6,7],[7,8],[8,9],[6,8],[7,9],[6,9],[7,7],[8,8],[9,9],[4,6],[4,7],[4,8],[4,9],[5,6],[5,7],[5,8],[5,9]];
            const pair = pairs[randInt(0, pairs.length-1)];
            q = `${pair[0]} Ã— ${pair[1]}`;
            a = pair[0] * pair[1];
          } else {
            // ê¸°ë³¸ ë‚˜ëˆ—ì…ˆ
            const problems = [[24,3],[24,4],[24,6],[24,8],[28,4],[28,7],[32,4],[32,8],[35,5],[35,7],[42,6],[42,7],[45,5],[45,9],[48,6],[48,8]];
            const prob = problems[randInt(0, problems.length-1)];
            q = `${prob[0]} Ã· ${prob[1]}`;
            a = prob[0] / prob[1];
          }
        } else {
          // 11-13ì„¸: ì„¸ ìë¦¬ ìˆ˜, ë³µí•© ê³„ì‚°
          const complex = Math.random() < 0.3;
          if (!complex) {
            const t = Math.random();
            if (t < 0.25) {
              // ì„¸ ìë¦¬ ë§ì…ˆ
              const pairs = [[156,278],[249,167],[378,245],[467,356],[189,234],[295,378],[346,289],[457,168]];
              const pair = pairs[randInt(0, pairs.length-1)];
              q = `${pair[0]} + ${pair[1]}`;
              a = pair[0] + pair[1];
            } else if (t < 0.5) {
              // ì„¸ ìë¦¬ ëº„ì…ˆ
              const pairs = [[456,189],[523,267],[634,278],[745,389],[512,145],[623,256],[734,367],[845,478]];
              const pair = pairs[randInt(0, pairs.length-1)];
              q = `${pair[0]} - ${pair[1]}`;
              a = pair[0] - pair[1];
            } else if (t < 0.75) {
              // ë‘ ìë¦¬Ã—í•œ ìë¦¬
              const pairs = [[23,4],[34,5],[45,6],[56,7],[67,8],[78,9],[12,8],[13,9]];
              const pair = pairs[randInt(0, pairs.length-1)];
              q = `${pair[0]} Ã— ${pair[1]}`;
              a = pair[0] * pair[1];
            } else {
              // ë‘ ìë¦¬Ã·í•œ ìë¦¬
              const problems = [[84,6],[96,8],[75,5],[91,7],[84,7],[88,4],[92,4],[87,3],[95,5]];
              const prob = problems[randInt(0, problems.length-1)];
              if (prob[0] % prob[1] === 0) {
                q = `${prob[0]} Ã· ${prob[1]}`;
                a = prob[0] / prob[1];
              } else {
                q = `${prob[0]} Ã· ${prob[1]}`;
                a = Math.floor(prob[0] / prob[1]);
              }
            }
          } else {
            // ë³µí•©ê³„ì‚°
            const patterns = [
              [[12,25,3], (a,b,c) => `(${a} + ${b}) Ã— ${c}`, (a,b,c) => (a+b)*c],
              [[4,18,7], (a,b,c) => `${a} Ã— (${b} + ${c})`, (a,b,c) => a*(b+c)],
              [[145,67,35], (a,b,c) => `(${a} - ${b}) + ${c}`, (a,b,c) => (a-b)+c],
              [[28,4,6], (a,b,c) => `${a} + ${b} Ã— ${c}`, (a,b,c) => a+(b*c)],
              [[5,16,23], (a,b,c) => `${a} Ã— ${b} - ${c}`, (a,b,c) => (a*b)-c],
              [[72,6,19], (a,b,c) => `${a} Ã· ${b} + ${c}`, (a,b,c) => (a/b)+c]
            ];
            const pattern = patterns[randInt(0, patterns.length-1)];
            q = pattern[1](pattern[0][0], pattern[0][1], pattern[0][2]);
            a = pattern[2](pattern[0][0], pattern[0][1], pattern[0][2]);
          }
        }
        
        arr.push({q: q, a: a});
      }
      
      return arr.sort(() => Math.random() - 0.5);
    }

    // ê²°ê³¼ ë©”ì‹œì§€ í•¨ìˆ˜
    function getResultMsg(rate) {
      if (rate >= 90) return 'ìš°ìˆ˜í•´ìš”! ìˆ˜í•™ì²œì¬! ğŸ‘‘ğŸ¦–';
      if (rate >= 80) return 'ì¡°ê¸ˆë§Œ ë” í•˜ë©´ 90%ë„ ê°€ëŠ¥í•´ìš”! í™”ì´íŒ…! ğŸŒˆ';
      return '70%ê°€ ë„˜ì„ ë•Œê¹Œì§€ ì¡°ê¸ˆ ë” ì—°ìŠµí•´ìš”! ì¬ë„ì „ Go! ğŸšğŸ‘‘';
    }

    // ê²Œì„ ì‹œì‘
    document.getElementById('startQuizBtn').onclick = function() {
      const age = parseInt(document.getElementById('ageSelect').value);
      if (!age || age < 3 || age > 13) { 
        alert('3~13ì„¸ ë‚˜ì´ë§Œ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤!'); 
        return; 
      }
      
      quiz.age = age;
      quiz.questions = makeQuestions(age);
      quiz.current = 0;
      quiz.correct = 0;
      quiz.consecutiveCorrect = 0;
      quiz.consecutiveWrong = 0;
      
      document.getElementById('ageSection').style.display = 'none';
      document.getElementById('quizSection').style.display = 'block';
      document.getElementById('resultSection').style.display = 'none';
      showQuestion();
      
      // ë°°ê²½ìŒì•… ì‹œì‘
      startBackgroundMusic();
    };

    // ë¬¸ì œ í‘œì‹œ
    function showQuestion() {
      const qinfo = quiz.questions[quiz.current];
      document.getElementById('questionNum').textContent = `ë¬¸ì œ ${quiz.current + 1} / 20`;
      document.getElementById('questionText').textContent = qinfo.q + ' = ?';
      document.getElementById('answerInput').value = '';
      document.getElementById('feedback').textContent = '';
      document.getElementById('mathTip').style.display = 'none';
      document.getElementById('answerInput').focus();
      document.getElementById('submitAnswerBtn').textContent = 'ì •ë‹µ í™•ì¸';
      document.getElementById('submitAnswerBtn').disabled = false;
      // ë²„íŠ¼ ê¸°ëŠ¥ì„ ì •ë‹µ í™•ì¸ìœ¼ë¡œ ë³µì›
      document.getElementById('submitAnswerBtn').onclick = checkAnswer;
    }

    // ì •ë‹µ í™•ì¸ í•¨ìˆ˜
    function checkAnswer() {
      const userAns = document.getElementById('answerInput').value.trim();
      const q = quiz.questions[quiz.current];
      
      if (userAns === "") { 
        document.getElementById('feedback').textContent = "ë‹µì„ ì…ë ¥í•´ ì£¼ì„¸ìš”!"; 
        return; 
      }
      
      if (Number(userAns) === q.a) {
        // ì •ë‹µ ì²˜ë¦¬
        quiz.correct++;
        quiz.consecutiveCorrect++;
        quiz.consecutiveWrong = 0;
        
        let message;
        if (quiz.consecutiveCorrect >= 3) {
          message = consecutiveMessages[randInt(0, consecutiveMessages.length - 1)];
        } else if (q.a > 50 || (quiz.age >= 11 && q.q.includes('Ã—') && q.a > 100)) {
          message = hardCorrectMessages[randInt(0, hardCorrectMessages.length - 1)];
        } else {
          message = correctMessages[randInt(0, correctMessages.length - 1)];
        }
        
        document.getElementById('feedback').textContent = message;
        document.getElementById('feedback').style.color = '#28a745';
        
        // íš¨ê³¼ìŒ ì¬ìƒ
        if (!applauseCooldown) {
          const applauseSound = document.getElementById('applauseSound');
          applauseSound.currentTime = 0;
          applauseSound.play().catch(e => {
            console.log('íš¨ê³¼ìŒ ì¬ìƒ ì‹¤íŒ¨:', e);
          });
          applauseCooldown = true;
          setTimeout(() => { applauseCooldown = false; }, 1500);
        }
        
        // ì •ë‹µ ì‹œ 1.2ì´ˆ í›„ ìë™ìœ¼ë¡œ ë‹¤ìŒ ë¬¸ì œ
        document.getElementById('submitAnswerBtn').textContent = 'ë‹¤ìŒ ë¬¸ì œ';
        document.getElementById('submitAnswerBtn').disabled = true;
        
        setTimeout(() => {
          goToNextQuestion();
        }, 1200);
        
      } else {
        // ì˜¤ë‹µ ì²˜ë¦¬
        quiz.consecutiveCorrect = 0;
        quiz.consecutiveWrong++;
        
        let message;
        if (quiz.consecutiveWrong >= 3) {
          message = consecutiveWrongMessages[randInt(0, consecutiveWrongMessages.length - 1)];
        } else {
          message = wrongMessages[randInt(0, wrongMessages.length - 1)];
        }
        
        document.getElementById('feedback').textContent = `${message} (ì •ë‹µ: ${q.a})`;
        document.getElementById('feedback').style.color = '#dc3545';
        
        // ìˆ˜í•™ íŒ í‘œì‹œ
        const tips = mathTips[quiz.age] || [];
        if (tips.length > 0) {
          const randomTip = tips[randInt(0, tips.length - 1)];
          document.getElementById('mathTip').innerHTML = randomTip.replace(/\n/g, '<br>');
          document.getElementById('mathTip').style.display = 'block';
        }
        
        // ì˜¤ë‹µ ì‹œ ìˆ˜ë™ìœ¼ë¡œ ë‹¤ìŒ ë¬¸ì œë¡œ (ìë™ ë„˜ì–´ê°€ê¸° ì œê±°)
        document.getElementById('submitAnswerBtn').textContent = 'ë‹¤ìŒ ë¬¸ì œ';
        document.getElementById('submitAnswerBtn').disabled = false;
        document.getElementById('submitAnswerBtn').onclick = goToNextQuestion;
      }
    }

    // ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜
    function goToNextQuestion() {
      quiz.current++;
      if (quiz.current >= 20) {
        finishQuiz();
      } else {
        showQuestion();
      }
    }

    // ì •ë‹µ í™•ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸
    document.getElementById('submitAnswerBtn').onclick = checkAnswer;

    // ì—”í„°í‚¤ ì²˜ë¦¬
    document.getElementById('answerInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        const btn = document.getElementById('submitAnswerBtn');
        if (!btn.disabled) {
          btn.click();
        }
      }
    });

    // í€´ì¦ˆ ì™„ë£Œ
    function finishQuiz() {
      document.getElementById('quizSection').style.display = 'none';
      document.getElementById('resultSection').style.display = 'block';
      document.getElementById('correctCount').textContent = quiz.correct;
      document.getElementById('totalCount').textContent = '20';
      
      const rate = Math.round(quiz.correct / 20 * 100);
      document.getElementById('accuracy').textContent = rate;
      document.getElementById('resultMsg').textContent = getResultMsg(rate);
      document.getElementById('retryBtn').style.display = (rate < 70) ? 'inline-block' : 'none';
      
      // 90ì  ì´ìƒì´ë©´ 2ì´ˆ í›„ ì¶•í•˜ ë©”ì‹œì§€ ëª¨ë‹¬ í‘œì‹œ
      if (rate >= 90) {
        setTimeout(() => {
          showCongratsModal();
        }, 2000);
      }
    }

    // ì¬ë„ì „
    document.getElementById('retryBtn').onclick = function() {
      quiz.current = 0;
      quiz.correct = 0;
      quiz.consecutiveCorrect = 0;
      quiz.consecutiveWrong = 0;
      quiz.questions = makeQuestions(quiz.age);
      
      document.getElementById('ageSection').style.display = 'none';
      document.getElementById('quizSection').style.display = 'block';
      document.getElementById('resultSection').style.display = 'none';
      showQuestion();
    };

    // ì²˜ìŒìœ¼ë¡œ
    document.getElementById('restartBtn').onclick = function() {
      location.reload();
    };

    // ìŒì†Œê±° í† ê¸€
    document.getElementById('muteBtn').onclick = function() {
      isSoundOn = !isSoundOn;
      bgMusic.muted = !isSoundOn;
      this.textContent = isSoundOn ? 'ğŸ”Š' : 'ğŸ”‡';
    };

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì˜¤í”„ë‹ ë¹„ë””ì˜¤ë¶€í„° ì‹œì‘
    window.addEventListener('load', function() {
      console.log('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ - ì˜¤í”„ë‹ ë¹„ë””ì˜¤ ì‹œì‘');
      // ì˜¤í”„ë‹ ë¹„ë””ì˜¤ê°€ ë¨¼ì € í‘œì‹œë¨
      openingContainer.style.display = 'flex';
      gameContainer.style.display = 'none';
      
      // í˜ì´ì§€ ë¡œë“œ í›„ ìë™ì¬ìƒ ì‹œë„
      setTimeout(() => {
        tryAutoplay();
      }, 500);
    });

  </script>
</body>
</html>
