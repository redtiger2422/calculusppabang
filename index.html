<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëª¨í—˜ í€´ì¦ˆ ê²Œì„</title>
  <style>
    /* ë°°ê²½ ìŒì•… ìŒì†Œê±° í† ê¸€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #muteBtn {
      position: fixed;
      top: 10px;
      right: 10px;
      font-size: 24px;
      background: none;
      border: none;
      cursor: pointer;
    }
    /* í€´ì¦ˆ í™”ë©´ ìˆ¨ê¹€ */
    #quizScreen {
      display: none;
    }
  </style>
</head>
<body>
  <!-- ë°°ê²½ ìŒì•… (ìë™ ì¬ìƒ, ë¬´í•œ ë°˜ë³µ) -->
  <audio id="bgMusic" src="tayo1.mp3" loop autoplay></audio>
  <!-- ë°•ìˆ˜ íš¨ê³¼ìŒ -->
  <audio id="clapSound" src="applaus11.mp3"></audio>

  <!-- ìƒë‹¨ ìš°ì¸¡ ìŒì†Œê±°/ì†Œë¦¬ í† ê¸€ ë²„íŠ¼ -->
  <button id="muteBtn">ğŸ”Š</button>

  <!-- ì‹œì‘ í™”ë©´ -->
  <div id="startScreen">
    <h1>ëª¨í—˜ ì‹œì‘í•˜ê¸°</h1>
    <label for="ageSelect">ë‚˜ì´ë¥¼ ì„ íƒí•˜ì„¸ìš”: </label>
    <select id="ageSelect">
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
    </select>
    <button id="startBtn">ëª¨í—˜ ì‹œì‘</button>
  </div>

  <!-- í€´ì¦ˆ í™”ë©´ -->
  <div id="quizScreen">
    <h2 id="questionText"></h2>
    <input type="text" id="answerInput" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" />
    <button id="submitAnswer">ì œì¶œ</button>
    <p id="feedback"></p>
  </div>

  <script>
    // ë¬¸ì œ ì„¸íŠ¸ ì˜ˆì‹œ (ë‚˜ì´ì— ë”°ë¼ ì§ˆë¬¸ê³¼ ì •ë‹µ ì„¤ì •)
    const questionSets = {
      '5': [
        { q: '1+1 = ?', a: '2' },
        { q: '2+3 = ?', a: '5' },
        { q: '5-2 = ?', a: '3' }
      ],
      '6': [
        { q: '3+4 = ?', a: '7' },
        { q: '6-2 = ?', a: '4' },
        { q: '5+5 = ?', a: '10' }
      ],
      '7': [
        { q: '3Ã—2 = ?', a: '6' },
        { q: '7-2 = ?', a: '5' },
        { q: '4Ã—2 = ?', a: '8' }
      ],
      '8': [
        { q: '4Ã—2 = ?', a: '8' },
        { q: '10-5 = ?', a: '5' },
        { q: '6+7 = ?', a: '13' }
      ],
      '9': [
        { q: '3Ã—3 = ?', a: '9' },
        { q: '12-4 = ?', a: '8' },
        { q: '5Ã—5 = ?', a: '25' }
      ],
      '10': [
        { q: '5Ã—3 = ?', a: '15' },
        { q: '20-9 = ?', a: '11' },
        { q: '7+8 = ?', a: '15' }
      ]
    };

    let currentQuestions = [];
    let currentIndex = 0;

    // ì‹œì‘ ë²„íŠ¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    document.getElementById('startBtn').addEventListener('click', startGame);
    // ìŒì†Œê±° í† ê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    document.getElementById('muteBtn').addEventListener('click', function() {
      const bgMusic = document.getElementById('bgMusic');
      bgMusic.muted = !bgMusic.muted;
      this.textContent = bgMusic.muted ? 'ğŸ”‡' : 'ğŸ”Š';
    });
    // ì •ë‹µ ì œì¶œ ë²„íŠ¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    document.getElementById('submitAnswer').addEventListener('click', checkAnswer);

    function startGame() {
      // ì„ íƒí•œ ë‚˜ì´ ê¸°ë°˜ìœ¼ë¡œ ë¬¸ì œ ì„¸íŠ¸ ì„¤ì •
      const age = document.getElementById('ageSelect').value;
      currentQuestions = questionSets[age] || [];
      // í€´ì¦ˆ í™”ë©´ìœ¼ë¡œ ì „í™˜
      document.getElementById('startScreen').style.display = 'none';
      document.getElementById('quizScreen').style.display = 'block';
      currentIndex = 0;
      document.getElementById('feedback').textContent = '';
      showQuestion();
    }

    function showQuestion() {
      if (currentIndex < currentQuestions.length) {
        const qObj = currentQuestions[currentIndex];
        document.getElementById('questionText').textContent = qObj.q;
        document.getElementById('answerInput').value = '';
        document.getElementById('feedback').textContent = '';
        document.getElementById('answerInput').focus();
        document.getElementById('submitAnswer').disabled = false;
      } else {
        // ëª¨ë“  ë¬¸ì œ ì™„ë£Œ
        document.getElementById('questionText').textContent = 'ëª¨ë“  ë¬¸ì œë¥¼ ë§ì¶”ì…¨ìŠµë‹ˆë‹¤!';
        document.getElementById('submitAnswer').disabled = true;
      }
    }

    function checkAnswer() {
      const answerInput = document.getElementById('answerInput');
      const feedback = document.getElementById('feedback');
      const userAnswer = answerInput.value.trim();
      if (!userAnswer) return;
      const correctAnswer = currentQuestions[currentIndex].a;
      if (userAnswer === correctAnswer) {
        feedback.textContent = 'ì •ë‹µ!';
        playClapSound();
        currentIndex++;
        // ë‹¤ìŒ ë¬¸ì œë¡œ ì „í™˜
        setTimeout(showQuestion, 1000);
      } else {
        feedback.textContent = 'í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.';
      }
    }

    let lastClapTime = 0;
    function playClapSound() {
      const now = Date.now();
      if (now - lastClapTime > 1500) {
        document.getElementById('clapSound').play();
        lastClapTime = now;
      }
    }
  </script>
</body>
</html>
